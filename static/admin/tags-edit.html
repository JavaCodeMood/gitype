<div class="ui form seven wide column">
    <input type="hidden" id="id" />

    <div class="field">
        <label for="name">唯一名称</label>
        <input type="text" id="name" name="name" />
        <div class="description">最好是由英文和下划线及数字组成，以SEO友好的方式描述标签地址！</div>
    </div>

    <div class="field">
        <label for="title">标题</label>
        <input type="text" id="title" name="title" />
        <div class="description">标签的字面内容。</div>
    </div>

    <div class="field">
        <label for="description">详细描述</label>
        <textarea id="description" name="description" cols="30" rows="10"></textarea>
    </div>

    <div class="field">
        <button id="submit" class="ui fluid primary button" type="submit">提交</button>
        <br />
        <button id="delete" class="ui fluid red button">删除</button>
    </div>
</div><!-- end .ui.form -->

<script>
$('#submit').on('click', function(){
        $('.ui.form').addClass('loading');
        if ($('#id').val()){
            app.put({
                'url': app.adminAPI('/tags/'+$('#id').val()),
                'data':buildJSON($('.ui.form'))
            }).done(function(){
                $('#id').val('');
                $('#name').val('');
                $('#title').val('');
                $('#description').val('');
            }).fail(function(){
                app.showMessage('red', '更新'+$('#id').val()+'时失败');
            }).always(function(){
                $('.ui.form').removeClass('loading');
            });
        }else{
            app.post({
                'url': app.adminAPI('/tags'),
                'data':buildJSON($('.ui.form'))
            }).done(function(){
                $('#id').val('');
                $('#name').val('');
                $('#title').val('');
                $('#description').val('');
            }).fail(function(){
                app.showMessage('red', '添加时失败');
            }).always(function(){
                $('.ui.form').removeClass('loading');
            });
        }
        return false;
    });
</script>
