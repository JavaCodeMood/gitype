<div style="text-align:left">
    <h1 class="header">编辑文章</h1>
    <form class="ui form" id="post"></form>
</div>

<script>
function pageInit(id) {
    if (id>0) {
        app.setTitle('编辑文章');
        $('h1.header').html('编辑文章');
    }else{
        app.setTitle('添加文章');
        $('h1.header').html('添加文章');
    }

    if (id>0) {
        // TODO
        app.loadTemplate("#post", "#post-template");
    }else{
        app.loadTemplate("#post", "#post-template");
    }

    $('.ui.checkobx').checkbox();
    $('.ui.accordion').accordion();
    $('.ui.dropdown').dropdown(/*{allowAdditions:true}*/);
} // end pageInit
</script>

<script id="post-template" type="x-handlebars-template">
    <div class="field">
        <input name="title" type="text" placeholder="标题" value="{{title}}" />
    </div>

    <div class="ui fluid multiple search selection dropdown field">
        <input type="hidden" name="tags" value="{{tag}}" />
        <i class="dropdown icon"></i>
        <div class="default text">选择标签</div>
        <div class="menu">
            <div class="item">abc</div>
            <div class="item">def</div>
        </div>
    </div>

    <div class="ui accordion field" style="margin-bottom:1em">
        <div class="title"><i class="dropdown icon"></i>高级</div>
        <div class="content">
            <div class="field">
                <input name="name" type="text" style="width:60%" placeholder="唯一名称" value="{{name}}" />
                <input name="password" type="text" style="width:39%;float:right !important" placeholder="访问密码" value="{{password}}" />
            </div>

            <div class="field">
                <textarea name="summary" rows="10" cols="40" placeholder="文章摘要">{{summary}}</textarea>
            </div>

            <div class="field">
                <div class="ui checkbox" style="margin-right:2em">
                    <input id="allowComment" type="checkbox" name="allowComment" />
                    <label for="allowComment" style="cursor:pointer">允许评论</label>
                </div>
                <div class="ui checkbox">
                    <input type="checkbox" name="allowPing" id="allowPing" />
                    <label for="allowPing" style="cursor:pointer">允许Ping</label>
                </div>
            </div>
        </div>
    </div>

    <div class="field">
        <textarea name="content" rows="20" cols="40" placeholder="文章正文">{{content}}</textarea>
    </div>

    <div class="ui divider"></div>
    <div class="field">
        <div class="ui right floated buttons">
            <button class="ui red button">保存为草稿</button>
            <button class="ui green submit button" type="submit">发表</button>
        </div>
    </div>
</script>
