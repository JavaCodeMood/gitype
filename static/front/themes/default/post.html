{{define "post"}}
{{template "header" .info}}

<div class="post">
    <article>
        <h1 class="title"><a href="{{.post.Permalink}}">{{.post.Title}}</a></h1>
        <div class="meta">
            <time>{{.post.Created|date}}</time>
            <a class="comments" href="{{.post.Permalink}}#comments">{{.post.CommentsSize}}条评论</a>
        </div>
        <div class="entry">
            {{.post.Entry|html}}
        </div>
    </article>

    <div id="comments">
        <h2 class="title">评论</h2>
        {{if .post.AllowComment}}
        <form id="comments-reply">
            <div class="meta">
                <input type="text" required="required" name="name" placeholder="昵称" />
                <input type="url" name="url" placeholder="URL" />
                <input type="email" required="required" name="email" placeholder="邮箱，不会公开" />
            </div>

            <textarea name="content" id="reply-content" cols="30" rows="10"></textarea>

            <div class="buttons">
                <button type="submit">提交</button>
            </div>
        </form>
        {{end}}
        {{range .post.Comments}}
        <article id="comments-{{.ID}}">
            <header>
                <div>{{.AuthorName}}</div>
            </header>
            {{.Content}}
        </article>
        {{end}}
    </div><!-- end #comments -->
</div>

{{template "footer" .info}}
{{end}}
